/**
 * Video JS loader.
 *
 * This takes care of applying the filter on content which was dynamically loaded.
 *
 * @package    media_videojs
 * @copyright  2016 Frédéric Massart - FMCorz.net
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("media_videojs/loader",["jquery","core/event"],(function($,Event){var onload,notifyVideoJS=function(e,nodes){nodes.find(".mediaplugin_videojs").addBack(".mediaplugin_videojs").find("audio, video").each((function(){var id=$(this).attr("id"),config=$(this).data("setup-lazy"),modules=["media_videojs/video-lazy"];config.techOrder&&-1!==config.techOrder.indexOf("youtube")&&modules.push("media_videojs/Youtube-lazy"),config.techOrder&&-1!==config.techOrder.indexOf("flash")&&modules.push("media_videojs/videojs-flash-lazy"),require(modules,(function(videojs){onload&&(onload(videojs),onload=null),videojs(id,config)}))}))};return{setUp:function(executeonload){onload=executeonload,notifyVideoJS(null,$("body")),Event.getLegacyEvents().done((function(events){$(document).on(events.FILTER_CONTENT_UPDATED,notifyVideoJS)}))}}}));

//# sourceMappingURL=loader.min.js.map